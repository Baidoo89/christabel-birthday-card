/* ========================================
   GLOBAL STYLES & RESET
   ======================================== */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    min-height: 100vh;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    overflow-x: hidden;
    position: relative;
}

/* ========================================
   ANIMATED BACKGROUND - STARS
   ======================================== */

.stars {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
}

.stars::before,
.stars::after {
    content: '';
    position: absolute;
    width: 2px;
    height: 2px;
    background: white;
    box-shadow: 
        100px 200px white, 200px 100px white, 300px 300px white,
        400px 150px white, 500px 250px white, 600px 100px white,
        700px 350px white, 150px 400px white, 250px 50px white,
        350px 450px white, 450px 300px white, 550px 400px white,
        50px 100px white, 650px 200px white, 750px 450px white,
        800px 50px white, 850px 300px white, 900px 150px white,
        950px 400px white, 120px 300px white, 320px 200px white;
    animation: twinkle 3s infinite ease-in-out;
}

.stars::after {
    animation-delay: 1.5s;
}

@keyframes twinkle {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
}

/* ========================================
   FLOATING HEARTS BACKGROUND
   ======================================== */

.hearts-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
    overflow: hidden;
}

.heart {
    position: absolute;
    font-size: 20px;
    animation: floatUp 8s infinite ease-in;
    opacity: 0.6;
}

@keyframes floatUp {
    0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
    }
    10% {
        opacity: 0.6;
    }
    90% {
        opacity: 0.6;
    }
    100% {
        transform: translateY(-100px) rotate(360deg);
        opacity: 0;
    }
}

/* ========================================
   CONFETTI CANVAS
   ======================================== */

#confetti-canvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1000;
}

/* ========================================
   CARD CONTAINER
   ======================================== */

.card-container {
    position: relative;
    z-index: 10;
    min-height: 100vh;
    padding: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* ========================================
   WELCOME SCREEN
   ======================================== */

.welcome-screen {
    text-align: center;
    animation: fadeIn 1s ease-in;
}

.glowing-text {
    font-size: 3.5rem;
    color: white;
    text-shadow: 0 0 20px rgba(255, 255, 255, 0.8),
                 0 0 40px rgba(255, 255, 255, 0.6),
                 0 0 60px rgba(255, 255, 255, 0.4);
    animation: glow 2s infinite ease-in-out;
    margin-bottom: 20px;
}

@keyframes glow {
    0%, 100% {
        text-shadow: 0 0 20px rgba(255, 255, 255, 0.8),
                     0 0 40px rgba(255, 255, 255, 0.6),
                     0 0 60px rgba(255, 255, 255, 0.4);
    }
    50% {
        text-shadow: 0 0 30px rgba(255, 255, 255, 1),
                     0 0 60px rgba(255, 255, 255, 0.8),
                     0 0 90px rgba(255, 255, 255, 0.6);
    }
}

.subtitle {
    font-size: 1.5rem;
    color: rgba(255, 255, 255, 0.9);
    margin-bottom: 40px;
}

.start-btn {
    padding: 20px 50px;
    font-size: 1.5rem;
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 10px 30px rgba(245, 87, 108, 0.4);
    animation: pulse 2s infinite;
}

.start-btn:hover {
    transform: translateY(-5px) scale(1.05);
    box-shadow: 0 15px 40px rgba(245, 87, 108, 0.6);
}

@keyframes pulse {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.05);
    }
}

/* ========================================
   BIRTHDAY CARD
   ======================================== */

.birthday-card {
    background: #ffffff;
    border-radius: 30px;
    padding: 50px;
    max-width: 900px;
    width: 100%;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    animation: slideIn 0.8s ease-out;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(50px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.hidden {
    display: none;
}

/* ========================================
   COUNTDOWN SECTION
   ======================================== */

.countdown-section {
    text-align: center;
    margin-bottom: 30px;
    padding: 20px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 20px;
    color: white;
}

.countdown-section h2 {
    font-size: 1.8rem;
    margin-bottom: 15px;
}

.countdown {
    display: flex;
    justify-content: center;
    gap: 20px;
    font-size: 2rem;
    font-weight: bold;
}

.countdown-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    background: rgba(255, 255, 255, 0.2);
    padding: 15px 25px;
    border-radius: 15px;
    min-width: 100px;
}

.countdown-value {
    font-size: 3rem;
    line-height: 1;
}

.countdown-label {
    font-size: 0.9rem;
    margin-top: 5px;
    opacity: 0.9;
}

/* ========================================
   MAIN CONTENT
   ======================================== */

.main-content {
    text-align: center;
}

/* Lock mode visuals: show ONLY countdown until birthday */
.birthday-card.locked {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    position: relative;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

/* Hide balloons and hearts when card is locked */
body:has(.birthday-card.locked) .balloons-container,
body:has(.birthday-card.locked) #hearts {
    display: none !important;
}

.birthday-card.locked .countdown-section {
    flex: 1;
    display: flex !important;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    z-index: 100;
}

.birthday-card.locked .countdown-section h2 {
    font-size: 2.5rem;
    margin-bottom: 40px;
    color: #fff;
}

.birthday-card.locked .countdown-section .countdown {
    font-size: 3rem !important;
    color: #fff;
}

.birthday-card.locked .main-content {
    display: none !important;
}

.birthday-card.locked .button-group {
    display: none !important;
}

.birthday-card.locked .cake-container {
    display: none !important;
}

.birthday-card.locked .love-letter {
    display: none !important;
}

.birthday-card.locked .gallery-grid {
    display: none !important;
}

.lock-banner {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0, 0, 0, 0.6);
    color: #fff;
    padding: 14px 20px;
    border-radius: 12px;
    font-size: 1rem;
    z-index: 50;
    box-shadow: 0 10px 30px rgba(0,0,0,0.35);
}

.birthday-title {
    font-size: 3rem;
    color: #667eea;
    margin-bottom: 30px;
    animation: bounceIn 1s ease-out;
}

.name-highlight {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-size: 3.5rem;
    display: block;
    margin-top: 10px;
}

@keyframes bounceIn {
    0% {
        transform: scale(0.3);
        opacity: 0;
    }
    50% {
        transform: scale(1.05);
    }
    70% {
        transform: scale(0.9);
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}

/* ========================================
   CAKE SECTION
   ======================================== */

.cake-container {
    margin: 40px 0;
    position: relative;
}

.candle-container {
    display: flex;
    justify-content: center;
    gap: 30px;
    margin-bottom: -30px;
    z-index: 10;
    position: relative;
}

.candle {
    width: 10px;
    height: 60px;
    background: linear-gradient(to bottom, #ff6b6b, #ff8787);
    border-radius: 5px 5px 0 0;
    position: relative;
    box-shadow: 0 2px 10px rgba(255, 107, 107, 0.5);
}

.flame {
    position: absolute;
    top: -20px;
    left: 50%;
    transform: translateX(-50%);
    width: 15px;
    height: 25px;
    background: radial-gradient(ellipse at center, #fff 0%, #ff0 20%, #ff6b00 50%, transparent 70%);
    border-radius: 50% 50% 20% 20%;
    animation: flicker 0.3s infinite alternate;
}

@keyframes flicker {
    0% {
        transform: translateX(-50%) scale(1) rotate(-2deg);
    }
    100% {
        transform: translateX(-50%) scale(1.1) rotate(2deg);
    }
}

.cake-img {
    max-width: 300px;
    width: 100%;
    height: auto;
    cursor: pointer;
    transition: transform 0.3s ease;
    filter: drop-shadow(0 6px 18px rgba(0, 0, 0, 0.15));
}

.cake-img:hover {
    transform: scale(1.05) rotate(2deg);
}

.cake-instruction {
    margin-top: 15px;
    font-size: 1.1rem;
    color: #764ba2;
    font-style: italic;
}

/* ========================================
   MESSAGE BOX
   ======================================== */

.message-box {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    padding: 30px;
    border-radius: 20px;
    margin: 40px 0;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
}

.message {
    font-size: 1.2rem;
    line-height: 1.8;
    color: #333;
    margin-bottom: 20px;
}

.message:last-child {
    margin-bottom: 0;
}

/* ========================================
   PHOTO GALLERY
   ======================================== */

.photo-gallery {
    margin: 40px 0;
}

.photo-gallery h3 {
    font-size: 2rem;
    color: #667eea;
    margin-bottom: 25px;
}

.gallery-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 20px;
}

/* Single-photo layout: make one image stand out beautifully */
.gallery-grid.single {
    grid-template-columns: 1fr;
}

.photo-slot.single-wide {
    aspect-ratio: 16/10;
    box-shadow: 0 14px 40px rgba(0,0,0,0.25);
}

.photo-slot {
    aspect-ratio: 1;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    transition: transform 0.3s ease;
}

.photo-slot:hover {
    transform: scale(1.05) rotate(2deg);
}

.photo-slot img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    cursor: pointer;
}

.gallery-note {
    font-size: 0.95rem;
    color: #666;
    font-style: italic;
}

/* ========================================
   BUTTONS
   ======================================== */

.button-group {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: center;
    margin: 40px 0;
}

.action-btn {
    padding: 15px 35px;
    font-size: 1.2rem;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
}

.action-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
}

.action-btn:active {
    transform: translateY(-1px);
}

/* ========================================
   LOVE LETTER
   ======================================== */

.love-letter {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: none !important;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 2000;
    animation: fadeIn 0.3s ease;
}

/* Ensure hidden always overrides the overlay's display */
.love-letter.hidden {
    display: none !important;
}

.letter-content {
    background: white;
    padding: 50px;
    border-radius: 20px;
    max-width: 600px;
    width: 90%;
    max-height: 80vh;
    overflow-y: auto;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    animation: slideIn 0.5s ease-out;
}

.letter-content h2 {
    font-size: 2.5rem;
    color: #f5576c;
    margin-bottom: 25px;
    text-align: center;
}

.letter-content p {
    font-size: 1.2rem;
    line-height: 1.8;
    color: #333;
    margin-bottom: 20px;
}

.signature {
    text-align: right;
    font-style: italic;
    color: #667eea;
    margin-top: 30px;
}

.close-letter {
    display: block;
    margin: 30px auto 0;
    padding: 12px 30px;
    background: #667eea;
    color: white;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    font-size: 1.1rem;
    transition: all 0.3s ease;
}

.close-letter:hover {
    background: #764ba2;
    transform: scale(1.05);
}

/* Smooth fade-out when closing the love letter */
.love-letter.fade-out {
    animation: fadeOutOverlay 0.3s ease forwards;
}

.love-letter.fade-out .letter-content {
    animation: letterOut 0.3s ease forwards;
}

@keyframes fadeOutOverlay {
    from { opacity: 1; }
    to { opacity: 0; }
}

@keyframes letterOut {
    from { opacity: 1; transform: translateY(0) scale(1); }
    to { opacity: 0; transform: translateY(10px) scale(0.98); }
}

/* ========================================
   FIREWORKS
   ======================================== */

.fireworks {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 999;
}

.firework {
    position: absolute;
    width: 5px;
    height: 5px;
    border-radius: 50%;
    animation: explode 1s ease-out forwards;
}

@keyframes explode {
    0% {
        transform: translate(0, 0) scale(1);
        opacity: 1;
    }
    100% {
        transform: translate(var(--tx), var(--ty)) scale(0);
        opacity: 0;
    }
}

/* ========================================
   FADE IN ANIMATION
   ======================================== */

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

/* ========================================
   RESPONSIVE DESIGN
   ======================================== */

/* ========================================
   BALLOONS (DECOR)
   ======================================== */

.balloons-container {
    position: fixed;
    left: 0;
    bottom: -150px;
    width: 100%;
    height: 0;
    pointer-events: none;
    z-index: 2;
}

.balloon {
    position: absolute;
    width: 36px;
    height: 48px;
    border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
    box-shadow: inset -6px -8px 0 rgba(0,0,0,0.08);
    animation: floatBalloon linear forwards, sway ease-in-out infinite;
}

.balloon::after {
    content: '';
    position: absolute;
    left: 50%;
    bottom: -8px;
    width: 4px;
    height: 10px;
    transform: translateX(-50%);
    background: currentColor;
    border-radius: 2px;
}

.balloon::before {
    content: '';
    position: absolute;
    left: 50%;
    bottom: -70px;
    width: 2px;
    height: 70px;
    transform: translateX(-50%);
    background: rgba(255,255,255,0.6);
}

@keyframes floatBalloon {
    0% { transform: translateY(0); opacity: 0; }
    10% { opacity: 1; }
    100% { transform: translateY(-120vh); opacity: 0; }
}

@keyframes sway {
    0%, 100% { margin-left: -6px; }
    50% { margin-left: 6px; }
}

/* ========================================
   IMAGE LIGHTBOX
   ======================================== */

.image-lightbox {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 3000;
    animation: fadeIn 0.2s ease;
}

.image-lightbox img {
    max-width: 90vw;
    max-height: 85vh;
    border-radius: 12px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.6);
}

.image-lightbox .lightbox-close {
    position: absolute;
    top: 20px;
    right: 20px;
    background: rgba(255,255,255,0.12);
    border: 1px solid rgba(255,255,255,0.25);
    color: #fff;
    padding: 10px 14px;
    border-radius: 10px;
    cursor: pointer;
    font-size: 0.95rem;
    backdrop-filter: blur(6px);
}

/* Lightbox navigation */
.image-lightbox .lightbox-prev,
.image-lightbox .lightbox-next {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(255,255,255,0.12);
    border: 1px solid rgba(255,255,255,0.25);
    color: #fff;
    padding: 12px 14px;
    border-radius: 10px;
    cursor: pointer;
    font-size: 1rem;
    backdrop-filter: blur(6px);
    user-select: none;
}

.image-lightbox .lightbox-prev { left: 20px; }
.image-lightbox .lightbox-next { right: 20px; }

@media (max-width: 480px) {
    .image-lightbox .lightbox-prev,
    .image-lightbox .lightbox-next {
        padding: 10px 12px;
        font-size: 0.95rem;
    }
}

@media (max-width: 768px) {
    .glowing-text {
        font-size: 2rem;
    }
    
    .birthday-title {
        font-size: 2rem;
    }
    
    .name-highlight {
        font-size: 2.5rem;
    }
    
    .birthday-card {
        padding: 30px 20px;
    }
    
    .message {
        font-size: 1rem;
    }
    
    .action-btn {
        font-size: 1rem;
        padding: 12px 25px;
    }
    
    .countdown-value {
        font-size: 2rem;
    }
    
    .letter-content {
        padding: 30px 20px;
    }
}

@media (max-width: 480px) {
    .countdown {
        font-size: 1.2rem;
    }
    
    .countdown-item {
        min-width: 70px;
        padding: 10px 15px;
    }
    
    .button-group {
        flex-direction: column;
    }
    
    .action-btn {
        width: 100%;
    }

    /* Ensure the single hero photo looks great on phones */
    .photo-slot.single-wide {
        aspect-ratio: 4/3;
    }
}
